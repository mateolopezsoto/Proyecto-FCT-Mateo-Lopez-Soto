import{a as S,b as s,c as w,d as F,f as E,h as L,i as k,n as I,p as N}from"./chunk-3FRVCO6D.js";import{Ca as y,E as u,G as l,J as e,K as n,L as c,N as _,Q as t,S as v,Y as b,d as f,la as h,o as p,p as C,pa as x,wa as M,xa as P,z as a,za as O}from"./chunk-6KVODD7N.js";function z(i,r){i&1&&(e(0,"div",16),t(1," Correo obrigatorio e v\xE1lido "),n())}function R(i,r){i&1&&(e(0,"div",16),t(1," Contrasinal obrigatorio (m\xEDn. 6 caracteres) "),n())}function T(i,r){i&1&&c(0,"i",17)}var D=class i{fb=p(I);authService=p(y);router=p(M);loginForm=this.fb.group({correo:["",[s.required,s.email]],contrasinal:["",[s.required,s.minLength(6)]]});onLogin(){return f(this,null,function*(){if(this.loginForm.invalid)return;let r={correo:this.loginForm.get("correo")?.value?.trim()||"",contrasinal:this.loginForm.get("contrasinal")?.value||""};yield this.authService.login(r)})}navigateToForgotPassword(r){r.preventDefault(),this.router.navigate(["/olvido-contrasinal"])}static \u0275fac=function(g){return new(g||i)};static \u0275cmp=C({type:i,selectors:[["app-login"]],standalone:!0,features:[b],decls:29,vars:6,consts:[[1,"login-container"],[1,"left-panel"],["src","/assets/logo_principal.png","alt","Logo Empresa",1,"logo"],[1,"right-panel"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","correo"],["type","email","id","correo","formControlName","correo","placeholder","exemplo@correo.com"],["class","error",4,"ngIf"],["for","contrasinal"],["type","password","id","contrasinal","formControlName","contrasinal","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"],["type","submit",1,"btn-primary",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"actions"],["routerLink","/registro",1,"link"],["routerLink","/olvido-contrasinal",1,"link"],[1,"error"],[1,"fas","fa-spinner","fa-spin"]],template:function(g,o){if(g&1&&(e(0,"div",0)(1,"div",1),c(2,"img",2),e(3,"h1"),t(4,"Benvido/a ao Portal de Reservas"),n(),e(5,"p"),t(6,"Accede para xestionar as reservas das instalaci\xF3ns municipais."),n()(),e(7,"div",3)(8,"form",4),_("ngSubmit",function(){return o.onLogin()}),e(9,"h2"),t(10,"Iniciar sesi\xF3n"),n(),e(11,"div",5)(12,"label",6),t(13,"Correo electr\xF3nico"),n(),c(14,"input",7),u(15,z,2,0,"div",8),n(),e(16,"div",5)(17,"label",9),t(18,"Contrasinal"),n(),c(19,"input",10),u(20,R,2,0,"div",8),n(),e(21,"button",11),u(22,T,1,0,"i",12),t(23),n(),e(24,"div",13)(25,"a",14),t(26,"Rexistrarse"),n(),e(27,"a",15),t(28,"Esquec\xEDn o contrasinal"),n()()()()()),g&2){let m,d;a(8),l("formGroup",o.loginForm),a(7),l("ngIf",((m=o.loginForm.get("correo"))==null?null:m.invalid)&&((m=o.loginForm.get("correo"))==null?null:m.touched)),a(5),l("ngIf",((d=o.loginForm.get("contrasinal"))==null?null:d.invalid)&&((d=o.loginForm.get("contrasinal"))==null?null:d.touched)),a(),l("disabled",o.authService.loading()),a(),l("ngIf",o.authService.loading()),a(),v(" ",o.authService.loading()?"Entrando...":"Iniciar sesi\xF3n"," ")}},dependencies:[x,h,N,E,S,w,F,L,k,O,P],styles:[".login-container[_ngcontent-%COMP%]{display:flex;min-height:100vh}.left-panel[_ngcontent-%COMP%]{flex:1;background:linear-gradient(135deg,#1a73e8,#0d47a1);color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:2rem}.left-panel[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:140px;margin-bottom:2rem}.left-panel[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2rem;margin-bottom:1rem}.left-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9}.right-panel[_ngcontent-%COMP%]{flex:1;background:#f5f5f5;display:flex;justify-content:center;align-items:center;padding:2rem}.login-form[_ngcontent-%COMP%]{width:100%;max-width:380px;background:#fff;padding:2.5rem;border-radius:12px;box-shadow:0 10px 30px #0000001a}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#1a73e8;font-weight:700}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.8rem 1rem;border:1px solid #ccc;border-radius:8px;font-size:1rem;transition:border .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#1a73e8;box-shadow:0 0 0 3px #1a73e833}.form-group[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#d32f2f;font-size:.85rem;margin-top:.4rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.9rem;background:#1a73e8;color:#fff;border:none;border-radius:8px;font-size:1.1rem;font-weight:600;cursor:pointer;margin-top:1rem;transition:all .3s}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#1557b0;transform:translateY(-2px)}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:1.5rem;flex-wrap:wrap}.actions[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#1a73e8;text-decoration:none;font-size:.95rem}.actions[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 850px){.login-container[_ngcontent-%COMP%]{flex-direction:column}.left-panel[_ngcontent-%COMP%]{padding:3rem 1.5rem}}"]})};export{D as LoginComponent};
