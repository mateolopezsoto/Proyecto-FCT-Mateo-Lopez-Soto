import{a as N,b as a,c as w,d as I,f as D,h as k,i as T,n as z,p as L}from"./chunk-3FRVCO6D.js";import{Ca as R,E as d,G as s,J as t,K as o,L as c,N as b,O as M,Q as n,S as O,Y as y,d as v,la as F,o as x,p as h,pa as P,xa as S,z as l,za as E}from"./chunk-6KVODD7N.js";function q(r,i){r&1&&(t(0,"div",19),n(1," O nome \xE9 obrigatorio (m\xE1x. 50 caracteres) "),o())}function A(r,i){r&1&&(t(0,"div",19),n(1," Os apelidos son obrigatorios (m\xE1x. 100 caracteres) "),o())}function j(r,i){if(r&1&&(t(0,"div",19),n(1),o()),r&2){let m,e=M();l(),O(" ",(m=e.registroForm.get("correo"))!=null&&m.hasError("email")?"Correo non v\xE1lido":"O correo \xE9 obrigatorio"," ")}}function G(r,i){r&1&&(t(0,"div",19),n(1," Debe ter 9 d\xEDxitos e comezar por 6-9 "),o())}function B(r,i){r&1&&(t(0,"div",19),n(1," M\xEDnimo 8 caracteres "),o())}function $(r,i){r&1&&(t(0,"div",19),n(1," Os contrasinais non coinciden "),o())}var V=class r{fb=x(z);authService=x(R);registroForm=this.fb.group({nome:["",[a.required,a.maxLength(50)]],apelidos:["",[a.required,a.maxLength(100)]],correo:["",[a.required,a.email,a.maxLength(100)]],telefono:["",[a.pattern(/^[6-9][0-9]{8}$/)]],contrasinal:["",[a.required,a.minLength(8)]],confirmar_contrasinal:["",[a.required]]},{validators:this.passwordMatchValidator});passwordMatchValidator(i){let m=i.get("contrasinal")?.value,e=i.get("confirmar_contrasinal")?.value;return m===e?null:{mismatch:!0}}onRegister(){return v(this,null,function*(){if(this.registroForm.invalid)return;let i={nome:this.registroForm.get("nome")?.value?.trim()||"",apelidos:this.registroForm.get("apelidos")?.value?.trim()||"",correo:this.registroForm.get("correo")?.value?.trim()||"",telefono:this.registroForm.get("telefono")?.value?.trim()||void 0,contrasinal:this.registroForm.get("contrasinal")?.value||""};yield this.authService.register(i)})}static \u0275fac=function(m){return new(m||r)};static \u0275cmp=h({type:r,selectors:[["app-registro"]],standalone:!0,features:[y],decls:36,vars:8,consts:[[1,"registro-left"],["src","/assets/logo_principal.png","alt","Logo Concello",1,"logo"],[1,"registro-right"],[1,"registro-form",3,"ngSubmit","formGroup"],["for","nome"],["type","text","id","nome","formControlName","nome","placeholder","Introduce o teu nome"],["class","error",4,"ngIf"],["for","apelidos"],["type","text","id","apelidos","formControlName","apelidos","placeholder","Introduce os teus apelidos"],["for","correo"],["type","email","id","correo","formControlName","correo","placeholder","exemplo@dominio.com"],["for","telefono"],["type","tel","id","telefono","formControlName","telefono","placeholder","600123456"],["for","contrasinal"],["type","password","id","contrasinal","formControlName","contrasinal","placeholder","Contrasinal"],["for","confirmar_contrasinal"],["type","password","id","confirmar_contrasinal","formControlName","confirmar_contrasinal","placeholder","Repita o contrasinal"],["type","submit",3,"disabled"],["type","button","routerLink","/",1,"secondary-btn"],[1,"error"]],template:function(m,e){if(m&1&&(t(0,"div",0),c(1,"img",1),t(2,"h1"),n(3,"Benvido ao Centro Deportivo"),o(),t(4,"p"),n(5,"Crea a t\xFAa conta e comeza a reservar instalaci\xF3ns facilmente."),o()(),t(6,"div",2)(7,"form",3),b("ngSubmit",function(){return e.onRegister()}),t(8,"label",4),n(9,"Nome"),o(),c(10,"input",5),d(11,q,2,0,"div",6),t(12,"label",7),n(13,"Apelidos"),o(),c(14,"input",8),d(15,A,2,0,"div",6),t(16,"label",9),n(17,"Correo electr\xF3nico"),o(),c(18,"input",10),d(19,j,2,1,"div",6),t(20,"label",11),n(21,"Tel\xE9fono"),o(),c(22,"input",12),d(23,G,2,0,"div",6),t(24,"label",13),n(25,"Contrasinal"),o(),c(26,"input",14),d(27,B,2,0,"div",6),t(28,"label",15),n(29,"Confirmar contrasinal"),o(),c(30,"input",16),d(31,$,2,0,"div",6),t(32,"button",17),n(33,"Rexistrarse"),o(),t(34,"button",18),n(35,"Volver ao inicio de sesi\xF3n"),o()()()),m&2){let g,p,f,u,_,C;l(7),s("formGroup",e.registroForm),l(4),s("ngIf",((g=e.registroForm.get("nome"))==null?null:g.invalid)&&((g=e.registroForm.get("nome"))==null?null:g.touched)),l(4),s("ngIf",((p=e.registroForm.get("apelidos"))==null?null:p.invalid)&&((p=e.registroForm.get("apelidos"))==null?null:p.touched)),l(4),s("ngIf",((f=e.registroForm.get("correo"))==null?null:f.invalid)&&((f=e.registroForm.get("correo"))==null?null:f.touched)),l(4),s("ngIf",((u=e.registroForm.get("telefono"))==null?null:u.invalid)&&((u=e.registroForm.get("telefono"))==null?null:u.touched)),l(4),s("ngIf",((_=e.registroForm.get("contrasinal"))==null?null:_.invalid)&&((_=e.registroForm.get("contrasinal"))==null?null:_.touched)),l(4),s("ngIf",e.registroForm.hasError("mismatch")&&((C=e.registroForm.get("confirmar_contrasinal"))==null?null:C.touched)),l(),s("disabled",e.registroForm.invalid)}},dependencies:[P,F,L,D,N,w,I,k,T,E,S],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;font-family:Arial,sans-serif}[_nghost-%COMP%]{display:flex;flex-direction:row;min-height:100vh}.registro-left[_ngcontent-%COMP%]{flex:1;background:#dae8fc;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:40px;color:#333;text-align:center}.registro-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px;margin-bottom:20px}.registro-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px}.registro-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem}.registro-right[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:40px;background:#f9f9f9}.registro-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:400px;background:#fff;padding:30px;border-radius:12px;box-shadow:0 0 15px #0000001a}.registro-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px;font-weight:500;color:#555}.registro-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:12px 15px;margin-bottom:25px;border:1px solid #ccc;border-radius:8px;font-size:1rem;transition:border .3s}.registro-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#4285f4;outline:none}.registro-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:14px;margin-bottom:15px;background-color:#4285f4;color:#fff;border:none;border-radius:8px;font-size:1rem;cursor:pointer;transition:background .3s}.registro-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#357ae8}.registro-form[_ngcontent-%COMP%]   .secondary-btn[_ngcontent-%COMP%]{background-color:#f0f0f0;color:#333}.registro-form[_ngcontent-%COMP%]   .secondary-btn[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.error[_ngcontent-%COMP%]{color:#d32f2f;font-size:.85rem;margin-top:-20px;margin-bottom:15px}@media (max-width: 768px){[_nghost-%COMP%]{flex-direction:column}.registro-left[_ngcontent-%COMP%], .registro-right[_ngcontent-%COMP%]{flex:unset;width:100%;padding:20px}.registro-right[_ngcontent-%COMP%]{justify-content:flex-start}}"]})};export{V as RegistroComponent};
