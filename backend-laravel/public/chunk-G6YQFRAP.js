import{a as E,b as f,c as F,d as O,f as R,h as k,i as N,n as I,p as D}from"./chunk-3FRVCO6D.js";import{Aa as V,C as v,Ca as M,E as d,G as s,J as o,K as t,L as p,N as x,Q as r,S as C,Y as S,c as G,d as g,la as _,o as m,p as b,pa as h,wa as y,xa as P,z as n,za as w}from"./chunk-6KVODD7N.js";var u=G(V());function z(i,a){i&1&&(o(0,"div",9),r(1," O correo debe ser v\xE1lido e \xE9 obrigatorio. "),t())}function L(i,a){i&1&&p(0,"i",10)}var T=class i{fb=m(I);authService=m(M);router=m(y);loading=v(!1);forgotPasswordForm=this.fb.group({correo:["",[f.required,f.email]]});onSubmit(){return g(this,null,function*(){if(this.forgotPasswordForm.invalid)return;this.loading.set(!0);let a=this.forgotPasswordForm.get("correo")?.value?.trim()||"";try{yield this.authService.solicitarRestablecemento(a),yield u.default.fire({icon:"success",title:"Correo Enviado!",text:"Revisa a t\xFAa caixa de entrada para o enlace de restablecemento.",confirmButtonText:"Entendido"}),this.router.navigate(["/"])}catch{u.default.fire("Erro","Non se puido enviar o correo ou o usuario non existe.","error")}finally{this.loading.set(!1)}})}static \u0275fac=function(l){return new(l||i)};static \u0275cmp=b({type:i,selectors:[["app-solicitar-restablecimiento"]],standalone:!0,features:[S],decls:16,vars:5,consts:[[1,"restablecer-container"],[1,"restablecer-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","correo"],["type","email","id","correo","formControlName","correo","placeholder","exemplo@correo.com"],["class","error",4,"ngIf"],["type","submit",1,"btn-primary",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],["routerLink","/",1,"link-back"],[1,"error"],[1,"fas","fa-spinner","fa-spin"]],template:function(l,e){if(l&1&&(o(0,"div",0)(1,"form",1),x("ngSubmit",function(){return e.onSubmit()}),o(2,"h2"),r(3,"Restablecer Contrasinal"),t(),o(4,"p"),r(5,"Introduce o teu correo electr\xF3nico para recibir o enlace de restablecemento."),t(),o(6,"div",2)(7,"label",3),r(8,"Correo electr\xF3nico"),t(),p(9,"input",4),d(10,z,2,0,"div",5),t(),o(11,"button",6),d(12,L,1,0,"i",7),r(13),t(),o(14,"a",8),r(15,"\u2190 Volver ao Login"),t()()()),l&2){let c;n(),s("formGroup",e.forgotPasswordForm),n(9),s("ngIf",((c=e.forgotPasswordForm.get("correo"))==null?null:c.invalid)&&((c=e.forgotPasswordForm.get("correo"))==null?null:c.touched)),n(),s("disabled",e.forgotPasswordForm.invalid||e.loading()),n(),s("ngIf",e.loading()),n(),C(" ",e.loading()?"Enviando...":"Enviar Enlace"," ")}},dependencies:[h,_,D,R,E,F,O,k,N,w,P],styles:[".restablecer-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f9f9f9}.restablecer-form[_ngcontent-%COMP%]{background-color:#fff;padding:40px;border-radius:12px;box-shadow:0 4px 20px #0000001a;max-width:400px;width:100%;display:flex;flex-direction:column;gap:15px}h2[_ngcontent-%COMP%]{color:#4285f4;margin-bottom:5px}p[_ngcontent-%COMP%]{color:#666;margin-bottom:15px;font-size:.95rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}label[_ngcontent-%COMP%]{font-weight:500;color:#333}input[_ngcontent-%COMP%]{padding:12px;border:1px solid #ddd;border-radius:8px;font-size:1rem;transition:border-color .3s}input[_ngcontent-%COMP%]:focus{border-color:#4285f4;outline:none}.btn-primary[_ngcontent-%COMP%]{padding:12px;background-color:#4285f4;color:#fff;border:none;border-radius:8px;cursor:pointer;font-weight:600;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#a0c3f7;cursor:not-allowed}.error[_ngcontent-%COMP%]{color:#e74c3c;font-size:.85rem;margin-top:5px}.link-back[_ngcontent-%COMP%]{text-align:center;color:#4285f4;text-decoration:none;margin-top:10px}"]})};export{T as SolicitarRestablecimientoComponent};
